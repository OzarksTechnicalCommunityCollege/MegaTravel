@using MegaTravelClient.Models
@model GetTripsForUserResponseModel
@{
    ViewData["Title"] = "View All Trips";
}

<section class="intro">
    <h1>View All Trips</h1>
</section>
<section class="dashboardLinks">
    <ul>
        <li class="nav-item">
            <a href="javascript: history.go(-1)">Back to Dashboard</a>
        </li>
    </ul>
</section>

<section>
    <h4>Booked Trips</h4>
    <table class="table table-sm table-striped table-bordered m-2">
        <thead>
            <tr>
                <th>TripName</th>
                <th>Location</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Number of Adults</th>
                <th>Number of Children</th>
                <th>Payment Status</th>

            </tr>
        </thead>
        <tbody>
            @foreach (var trip in Model.tripList)
            {
                <form method="post">
                    <tr>
                        <td>@trip.TripName</td>
                        <td>@trip.Location</td>
                        <td>@trip.StartDate</td>
                        <td>@trip.EndDate</td>
                        <td>@trip.NumAdults</td>
                        <td>@trip.NumChildren</td>
                        @if(trip.PaymentStatus.PaymentStatus == true)
                        {
                            <td>Paid</td>
                        }
                        else
                        {
                           <td>@Html.ActionLink("Mark Paid", "MarkPaymentStatus", "User", new {tripID = @trip.TripId, userID = @trip.UserId} )</td> 
                        }
                        
                    </tr>
               </form>
            }
        </tbody>
    </table>
</section>